webpackJsonp([10],{"/r3q":function(t,e,a){var i=a("OAWg");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("49c5e628",i,!0)},GMud:function(t,e,a){"use strict";function i(t){a("/r3q")}Object.defineProperty(e,"__esModule",{value:!0});var l=a("M+r8"),r=a("wgfp"),n=a("VU/8"),s=i,o=n(l.a,r.a,s,"data-v-7fd4a53e",null);e.default=o.exports},"M+r8":function(t,e,a){"use strict";var i=a("mZex"),l=a.n(i),r=a("tTwd"),n=l.a.api+"/get_check_user_list",s=l.a.api+"/get_user_info",o=l.a.api+"/user_idcard_auth",c=l.a.img;e.a={name:"member-verify",data:function(){return{loading:!1,pager:{page:1,num:10,total:0},tableData:[],dialog:{visible:!1,detail:{},activeNames:["3"]},imgDialog:{visible:!1,src:""}}},created:function(){this._init()},methods:{_init:function(){this._getData()},_getData:function(){var t=this;this.loading=!0;var e={page:this.pager.page,num:this.pager.num};this.$ajax(n,e,function(e){if(0===e.iRet){var i=e.data;if(i)var l=t,n=setTimeout(function(){clearTimeout(n),l.loading=!1,l.pager.total=e.total,l.tableData=i},300);else t.$message.warning("没有相关数据")}else t.$message.error(a.i(r.a)(e.iRet))})},handleSizeChange:function(t){if(this.pager.num=t,1===this.pager.page)return this._getData();this.pager.page=1},handleCurrentChange:function(t){this.pager.page=t,this._getData()},showDetail:function(t){var e=this;this.$ajax(s,{uin:t},function(t){if(0===t.iRet){var i=t.data;e.dialog.detail=i,e.dialog.detail.front=i.front?c+"/"+i.front:"",e.dialog.detail.pic_with_hand=i.pic_with_hand?c+"/"+i.pic_with_hand:"",e.dialog.visible=!0}else e.$message.warning(a.i(r.a)(t.iRet))})},showImg:function(t){t&&(this.imgDialog.src=t,this.imgDialog.visible=!0)},stateText:function(t){switch(+t){case 0:return"初始状态";case 1:return"待1级验证";case 2:return"待2级验证";case 3:return"待3级验证";case 4:return"身份信息验证中";case 5:return"完成所有验证";case 6:return"邮箱未验证";case 7:return"用户删除或禁用"}},stateColor:function(t){switch(+t){case 0:return"#8391a5";case 1:return"#c6c8cc";case 2:return"#e8f5ff";case 3:return"#e7faef";case 4:return"#f7ba2a";case 5:return"#13ce66";case 6:return"#ffcccc";case 7:return" #ff4949"}},confirmAction:function(t){var e=this,a=void 0,i=this.dialog.detail.truename;1===t?a="确定让[ "+i+" ]通过3级验证？":2===t&&(a="确定不让[ "+i+" ]通过3级验证？"),this.$confirm(a,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){console.log("确定"),e._updateUserState(e.dialog.detail.uin,t)}).catch(function(){console.log("取消")})},_updateUserState:function(t,e){var i=this;this.$ajax(o,{uin:t,is_pass:e},function(t){0===t.iRet?(i.$message.success("操作成功"),i.dialog.visible=!1,i._init()):i.$message.error(a.i(r.a)(t.iRet))})}}}},OAWg:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".page[data-v-7fd4a53e]{margin-top:20px}.dialog .img-responsive[data-v-7fd4a53e]{display:block;max-width:100%;height:auto;cursor:pointer}.dialog .dialog-footer[data-v-7fd4a53e]{padding:20px 0}",""])},tTwd:function(t,e,a){"use strict";function i(t,e){if(t){var a={536936460:"密码校验失败",536936454:"用户未激活",536936459:"邮箱不存在",536975769:"用户未登录",536936450:"该邮箱已经注册过",536870912:"参数错误",536870913:"图片验证码失效",536870914:"图片验证码校验失败",536870915:"图片验证码失效",537198599:"账户余额不足",536870923:"用户免费抽奖次数已经用完",537198594:"查不到相关信息"},i=t+"";return a[i]?a[i]:e||"系统错误，请稍后再试。"}return"系统错误，请稍后再试。"}e.a=i},wgfp:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"member-verify"},[a("el-breadcrumb",{staticClass:"breadcrumb",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"},replace:""}},[t._v("后台首页")]),t._v(" "),a("el-breadcrumb-item",[t._v("会员管理")]),t._v(" "),a("el-breadcrumb-item",[t._v("会员信息验证")])],1),t._v(" "),a("div",{staticClass:"table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,"max-height":"950",border:""}},[a("div",{slot:"empty"},[t._v(" 暂无待验证的信息! ")]),t._v(" "),a("el-table-column",{attrs:{prop:"uin",label:"会员id",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"truename",label:"姓名",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"email",label:"邮箱",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机号",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"country",label:"国家",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"state",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{color:t.stateColor(e.row.state)},domProps:{textContent:t._s(t.stateText(e.row.state))}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){t.showDetail(e.row.uin)}}},[t._v("详情")])]}}])})],1),t._v(" "),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{"current-page":t.pager.page,"page-sizes":[10,20,50,100],"page-size":t.pager.num,layout:"sizes, prev, pager, next",total:t.pager.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.pager.page=e}}})],1)],1),t._v(" "),a("div",{staticClass:"dialog"},[a("el-dialog",{attrs:{title:"验证会员详情",visible:t.dialog.visible},on:{"update:visible":function(e){t.dialog.visible=e}}},[a("el-collapse",{model:{value:t.dialog.activeNames,callback:function(e){t.dialog.activeNames=e},expression:"dialog.activeNames"}},[a("el-collapse-item",{attrs:{title:"三级验证",name:"3"}},[a("el-row",{attrs:{gutter:10}},[a("el-form",{attrs:{model:t.dialog.detail,"label-width":"120px"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"真实姓名:"}},[a("el-input",{attrs:{disabled:""},model:{value:t.dialog.detail.truename,callback:function(e){t.dialog.detail.truename=e},expression:"dialog.detail.truename"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"身份证号码:"}},[a("el-input",{attrs:{disabled:""},model:{value:t.dialog.detail.idcard,callback:function(e){t.dialog.detail.idcard=e},expression:"dialog.detail.idcard"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"身份证图片:"}},[a("img",{staticClass:"img-responsive",attrs:{src:t.dialog.detail.front},on:{click:function(e){t.showImg(t.dialog.detail.front)}}})])],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手持身份证图片:"}},[a("img",{staticClass:"img-responsive",attrs:{src:t.dialog.detail.pic_with_hand},on:{click:function(e){t.showImg(t.dialog.detail.pic_with_hand)}}})])],1)],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer clearfix"},[a("el-button",{attrs:{type:"danger fl"},on:{click:function(e){t.confirmAction(2)}}},[t._v("不通过")]),t._v(" "),a("el-button",{attrs:{type:"success fr"},on:{click:function(e){t.confirmAction(1)}}},[t._v("通过")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"图片详情",visible:t.imgDialog.visible},on:{"update:visible":function(e){t.imgDialog.visible=e}}},[a("el-card",[a("img",{staticClass:"img-responsive",attrs:{src:t.imgDialog.src}})])],1)],1)],1)},l=[],r={render:i,staticRenderFns:l};e.a=r}});