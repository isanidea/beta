webpackJsonp([6],{1205:function(e,t,a){"use strict";function i(e){a("QEJB")}Object.defineProperty(t,"__esModule",{value:!0});var l=a("peAW"),o=a("fZGr"),r=a("VU/8"),n=i,s=r(l.a,o.a,n,"data-v-0a3f4ba8",null);t.default=s.exports},QEJB:function(e,t,a){var i=a("dHcd");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("dfce86b6",i,!0)},dHcd:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".tip[data-v-0a3f4ba8]{margin-top:50px;text-align:center}.page[data-v-0a3f4ba8],.table[data-v-0a3f4ba8]{margin-top:20px}",""])},edKx:function(e,t,a){"use strict";function i(e,t){return e&&(e+=""),e?e.replace(t||/[&<">'\/](?:(amp|lt|quot|gt|#39|nbsp|#\d+);)?/g,function(e,t){return t?e:{"<":"&lt;","&":"&amp;",'"':"&quot;",">":"&gt;","'":"&#x27;","/":"&#x2F;"}[e]}):""}t.a=i},fZGr:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"deal"},[a("el-breadcrumb",{staticClass:"breadcrumb",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"},replace:""}},[e._v("后台首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("订单管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("订单查询")])],1),e._v(" "),a("el-row",{attrs:{gutter:5}},[a("el-col",{attrs:{span:4}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择订单状态"},model:{value:e.query.state,callback:function(t){e.query.state=t},expression:"query.state"}},[a("el-option",{attrs:{label:"全部订单",value:"100"}}),e._v(" "),a("el-option",{attrs:{label:"未成交订单",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"已成交订单 ",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"已取消订单",value:"3"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择币种"},model:{value:e.query.coin_id,callback:function(t){e.query.coin_id=t},expression:"query.coin_id"}},e._l(e.coin,function(e){return a("el-option",{key:e.coin_id,attrs:{label:e.abbreviation,value:e.coin_id}})}))],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{placeholder:"订单编号",type:"text"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13))return null;e.onSubmit(t)}},model:{value:e.query.export_id,callback:function(t){e.query.export_id=t},expression:"query.export_id"}})],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-input",{attrs:{placeholder:"会员ID",type:"text"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13))return null;e.onSubmit(t)}},model:{value:e.query.uin,callback:function(t){e.query.uin=t},expression:"query.uin"}})],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-date-picker",{staticStyle:{width:"46%"},attrs:{type:"date",editable:!1,placeholder:"开始时间"},on:{change:e.setBeginTime},model:{value:e.query.b_time,callback:function(t){e.query.b_time=t},expression:"query.b_time"}}),e._v(" "),a("span",{staticStyle:{width:"6%",overflow:"hidden"}},[e._v("--")]),e._v(" "),a("el-date-picker",{staticStyle:{width:"46%"},attrs:{type:"date",editable:!1,placeholder:"结束时间"},on:{change:e.setEndTime},model:{value:e.query.e_time,callback:function(t){e.query.e_time=t},expression:"query.e_time"}})],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[a("i",{staticClass:"el-icon-search"}),e._v("查询")])],1)],1),e._v(" "),e.showTip?a("div",{staticClass:"tip"},[e._v(" 请输入参数进行查询 ")]):a("div",{staticClass:"table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"max-height":"950",border:""}},[a("div",{slot:"empty"},[e._v(" 暂无数据! ")]),e._v(" "),a("el-table-column",{attrs:{prop:"export_id",label:"订单编号",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"uin",label:"会员ID",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"价格/BTC",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",label:"待成交数量",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"下单时间",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"coin_id",label:"币种类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{domProps:{textContent:e._s(e.coinType(t.row.coin_id))}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"state",label:"订单状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{color:e.stateColor(t.row.state)},domProps:{textContent:e._s(e.stateText(t.row.state))}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.showDetail(t.row.export_id)}}},[e._v("详情")])]}}])})],1),e._v(" "),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{"current-page":e.pager.page,"page-sizes":[10,20,50,100],"page-size":e.pager.num,layout:"sizes, prev, pager, next",total:e.pager.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.pager.page=t}}})],1)],1),e._v(" "),a("div",{staticClass:"dialog"},[a("el-dialog",{attrs:{title:"订单详情",visible:e.dialog.visible},on:{"update:visible":function(t){e.dialog.visible=t}}},[a("el-card",[a("el-row",{attrs:{gutter:10}},[a("el-form",{attrs:{model:e.dialog.detail,"label-width":"120px"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"订单编号:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.dialog.detail.export_id,callback:function(t){e.dialog.detail.export_id=t},expression:"dialog.detail.export_id"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"下单时间:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.dialog.detail.create_time,callback:function(t){e.dialog.detail.create_time=t},expression:"dialog.detail.create_time"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"订单类型:"}},[a("el-tag",{attrs:{color:e.typeColor(e.dialog.detail.type)},domProps:{textContent:e._s(e.typeText(e.dialog.detail.type))}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"订单状态:"}},[a("el-tag",{attrs:{color:e.stateColor(e.dialog.detail.state)},domProps:{textContent:e._s(e.stateText(e.dialog.detail.state))}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"币种类型:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.dialog.detail.coin_name,callback:function(t){e.dialog.detail.coin_name=t},expression:"dialog.detail.coin_name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"币种价格(BTC):"}},[a("el-input",{attrs:{disabled:""},model:{value:e.dialog.detail.price,callback:function(t){e.dialog.detail.price=t},expression:"dialog.detail.price"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"预交易总量:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.dialog.detail.total_vol,callback:function(t){e.dialog.detail.total_vol=t},expression:"dialog.detail.total_vol"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"总金额:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.dialog.detail.total_money,callback:function(t){e.dialog.detail.total_money=t},expression:"dialog.detail.total_money"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"已成交的金额:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.dialog.detail.post_deal_money,callback:function(t){e.dialog.detail.post_deal_money=t},expression:"dialog.detail.post_deal_money"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"已成交的数量:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.dialog.detail.post_deal_vol,callback:function(t){e.dialog.detail.post_deal_vol=t},expression:"dialog.detail.post_deal_vol"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"待成交的金额:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.dialog.detail.pre_deal_money,callback:function(t){e.dialog.detail.pre_deal_money=t},expression:"dialog.detail.pre_deal_money"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"待成交数量:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.dialog.detail.pre_deal_vol,callback:function(t){e.dialog.detail.pre_deal_vol=t},expression:"dialog.detail.pre_deal_vol"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"会员ID:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.dialog.detail.uin,callback:function(t){e.dialog.detail.uin=t},expression:"dialog.detail.uin"}})],1)],1)],1)],1)],1)],1)],1)],1)},l=[],o={render:i,staticRenderFns:l};t.a=o},peAW:function(e,t,a){"use strict";var i=a("edKx"),l=a("mZex"),o=a.n(l),r=a("tTwd"),n=o.a.api+"/find_coin_list",s=o.a.api+"/find_deal_list",d=o.a.api+"/find_bdeal_detail";t.a={name:"deal",data:function(){return{showTip:!0,loading:!1,coin:[],query:{state:"",coin_id:"",export_id:"",uin:"",b_time:"",e_time:""},pager:{page:1,num:10,total:0},tableData:[],dialog:{visible:!1,detail:{}}}},created:function(){this._getCoin()},methods:{_getCoin:function(){var e=this;this.$ajax(n,{},function(t){if(0===t.iRet){var i=t.data;i?e.coin=i:e.$message.warning("获取币种信息失败")}else e.$message.error(a.i(r.a)(t.iRet))})},_getData:function(){var e=this;if(!this._checkQuery())return!1;this.loading=!0;var t={uin:a.i(i.a)(this.query.uin),state:this.query.state,export_id:a.i(i.a)(this.query.export_id),coin_id:a.i(i.a)(this.query.coin_id),b_time:this.query.b_time,e_time:this.query.e_time,page:this.pager.page,num:this.pager.num};console.log(t),this.$ajax(s,t,function(t){if(0===t.iRet){var i=t.data;if(i){e.showTip=!1;var l=e,o=setTimeout(function(){clearTimeout(o),l.loading=!1,l.pager.total=t.total,l.tableData=i},300)}else e.loading=!1,e.tableData=[],e.pager.total=0,e.$message.warning("没有查到相关信息")}else e.loading=!1,e.$message.error(a.i(r.a)(t.iRet))})},_checkQuery:function(){if(!this.query.state)return this.$message.error("请选择订单状态！"),!1;if(!this.query.coin_id)return this.$message.error("请选择币种！"),!1;var e=this.query.b_time?new Date(this.query.b_time).getTime():0,t=this.query.e_time?new Date(this.query.e_time).getTime():0;return!(t&&e&&t<e)||(this.$message.error("订单的结束时间不能小于开始时间！"),!1)},onSubmit:function(){1!==this.pager.page?this.pager.page=1:this._getData()},handleSizeChange:function(e){if(this.pager.num=e,1===this.pager.page)return this._getData();this.pager.page=1},handleCurrentChange:function(e){this.pager.page=e,this._getData()},setBeginTime:function(e){this.query.b_time=e||""},setEndTime:function(e){this.query.e_time=e||""},showDetail:function(e){var t=this;this.$ajax(d,{export_id:e},function(e){if(0===e.iRet){var a=e.data;a?(t.dialog.detail=a,t.dialog.visible=!0):t.$message.error("没有详情数据")}})},stateText:function(e){switch(+e){case 1:return"未成交";case 2:return"已成交";case 3:return"已取消"}},stateColor:function(e){switch(+e){case 1:return"#f7ba2a";case 2:return"#13ce66";case 3:return"#ccc"}},coinType:function(e){var t=this.coin||"";if(t){var a=void 0;return t.forEach(function(t){e===t.coin_id&&(a=t.abbreviation)}),a}},typeText:function(e){switch(+e){case 1:return"买入";case 2:return"卖出";case 3:return"广告"}},typeColor:function(e){switch(+e){case 1:return"#dd4b39";case 2:return"#13ce66";case 3:return"#2194ea"}}}}},tTwd:function(e,t,a){"use strict";function i(e,t){if(e){var a={536936460:"密码校验失败",536936454:"用户未激活",536936459:"邮箱不存在",536975769:"用户未登录",536936450:"该邮箱已经注册过",536870912:"参数错误",536870913:"图片验证码失效",536870914:"图片验证码校验失败",536870915:"图片验证码失效",537198599:"账户余额不足",536870923:"用户免费抽奖次数已经用完",537198594:"查不到相关信息"},i=e+"";return a[i]?a[i]:t||"系统错误，请稍后再试。"}return"系统错误，请稍后再试。"}t.a=i}});